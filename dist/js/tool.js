!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e,n,o,r,i){var a,l=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,l=t.default);var c,u="function"==typeof l?l.options:l;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):o&&(c=o),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:l,options:u}}},function(t,e,n){"use strict";e.a={methods:{trans:function(t,e){return window.config.translations["nova-translation::"+t]?this.__("nova-translation::"+t,e):t}}}},function(t,e,n){n(3),t.exports=n(19)},function(t,e,n){Nova.booting(function(t,e,o){e.addRoutes([{name:"nova-translation",path:"/nova-translation",component:n(4)}])})},function(t,e,n){var o=n(0)(n(10),n(18),!1,function(t){n(5)},"data-v-2ea50c44",null);t.exports=o.exports},function(t,e,n){var o=n(6);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(8)("5f6092b8",o,!0,{})},function(t,e,n){(t.exports=n(7)(!1)).push([t.i,".modal[data-v-2ea50c44]{background-color:rgba(0,0,0,.6)}.table tbody tr td.table-actions[data-v-2ea50c44]{min-width:0;padding-left:.5em;padding-right:.5em;text-align:right;width:1%;white-space:nowrap}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(9),i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,s=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(v(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:a}}}}function h(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function v(t){var e,n,o=document.querySelector("style["+f+'~="'+t.id+'"]');if(o){if(c)return u;o.parentNode.removeChild(o)}if(p){var r=s++;o=l||(l=h()),e=b.bind(null,o,r,!1),n=b.bind(null,o,r,!0)}else o=h(),e=function(t,e){var n=e.css,o=e.media,r=e.sourceMap;o&&t.setAttribute("media",o);d.ssrId&&t.setAttribute(f,e.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}t.exports=function(t,e,n,o){c=n,d=o||{};var a=r(t,e);return m(a),function(e){for(var n=[],o=0;o<a.length;o++){var l=a[o];(s=i[l.id]).refs--,n.push(s)}e?m(a=r(t,e)):a=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var y,g=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function b(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t,e){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=i[0],l={id:t+":"+r,css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(l):n.push(o[a]={id:a,parts:[l]})}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(11),i=n.n(r);e.default={mixins:[o.a],components:{PromptKeyModal:n(12),CloudinaryUpload:n(15)},data:function(){return{labels:[],locales:[],loading:!0,currentEdit:{},cloudinaryWidget:null,promptKeyModalOpened:!1}},mounted:function(){this.hydrate()},methods:{hydrate:function(){var t=this;Nova.request().get("/nova-vendor/nova-translation/translation-matrix").then(function(e){t.setupCloudinaryWidget(e.data.cloudinary),t.labels=e.data.labels,t.locales=e.data.locales,t.loading=!1}).catch(function(t){console.error(t)})},updateLabel:function(t,e,n){for(var o=0;o<this.labels.length;o++)if(this.labels[o].key===t&&this.labels[o].locale_id===e){this.labels[o].value=n;break}},saveLabels:function(){var t=this;this.loading=!0,Nova.request().post("/nova-vendor/nova-translation/translation-matrix",{labels:this.labels}).then(function(e){t.labels=e.data.labels,t.$toasted.show(t.trans("The translations have been successfully saved!"),{type:"success"})}).catch(function(e){t.$toasted.show(t.trans("An error occurred while saving the translations!"),{type:"error"})}).finally(function(){t.loading=!1})},setCurrentEdit:function(t){this.currentEdit=t},setupCloudinaryWidget:function(t){var e=this;this.cloudinaryWidget=cloudinary.createMediaLibrary({api_key:t.api_key,multiple:!1,username:t.username,signature:t.signature,timestamp:t.timestamp,cloud_name:t.cloud_name},{insertHandler:function(t){t.assets.length>0&&e.updateLabel(e.currentEdit.localeKey,e.currentEdit.localeId,t.assets[0].public_id)}})},addKey:function(t){var e=this;this.promptKeyModalOpened=!1,this.keyExists(t.key)?this.$toasted.show(this.trans("The key you try to add already exists!"),{type:"error"}):this.addI18nKey(t.key,t.type),this.$nextTick(function(){var n=document.querySelector("#textarea__"+t.key+"__"+e.locales[0].id);n&&n.focus(),i()(document.querySelector("#tr__"+t.key),{speed:500})})},keyExists:function(t){for(var e=0;e<this.labels.length;e++)if(this.labels[e].key===t)return!0;return!1},addI18nKey:function(t,e){for(var n=0;n<this.locales.length;n++)this.labels.push({key:t,type:e,value:"",locale_id:this.locales[n].id})},deleteKey:function(t){for(var e=[],n=0;n<this.labels.length;n++)this.labels[n].key!==t&&e.push(this.labels[n]);this.labels=e}},computed:{matrix:function(){for(var t,e={},n=0;n<this.labels.length;n++)void 0===e[(t=this.labels[n]).key]&&(e[t.key]={}),e[t.key][t.locale_id]={type:t.type,value:t.value};return e}}}},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.element=t}return t.prototype.getHorizontalScroll=function(){return this.element.scrollLeft},t.prototype.getVerticalScroll=function(){return this.element.scrollTop},t.prototype.getMaxHorizontalScroll=function(){return this.element.scrollWidth-this.element.clientWidth},t.prototype.getMaxVerticalScroll=function(){return this.element.scrollHeight-this.element.clientHeight},t.prototype.getHorizontalElementScrollOffset=function(t){return t.getBoundingClientRect().left+this.element.scrollLeft-this.element.getBoundingClientRect().left},t.prototype.getVerticalElementScrollOffset=function(t){return t.getBoundingClientRect().top+this.element.scrollTop-this.element.getBoundingClientRect().top},t.prototype.scrollTo=function(t,e){this.element.scrollLeft=t,this.element.scrollTop=e},t}(),i=function(){function t(){}return t.prototype.getHorizontalScroll=function(){return window.scrollX||document.documentElement.scrollLeft},t.prototype.getVerticalScroll=function(){return window.scrollY||document.documentElement.scrollTop},t.prototype.getMaxHorizontalScroll=function(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth},t.prototype.getMaxVerticalScroll=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight},t.prototype.getHorizontalElementScrollOffset=function(t){return(window.scrollX||document.documentElement.scrollLeft)+t.getBoundingClientRect().left},t.prototype.getVerticalElementScrollOffset=function(t){return(window.scrollY||document.documentElement.scrollTop)+t.getBoundingClientRect().top},t.prototype.scrollTo=function(t,e){window.scrollTo(t,e)},t}(),a={elements:[],cancelMethods:[],add:function(t,e){a.elements.push(t),a.cancelMethods.push(e)},stop:function(t){var e=a.elements.indexOf(t);e>-1&&(a.cancelMethods[e](),a.elements.splice(e,1),a.cancelMethods.splice(e,1))}},l="undefined"!=typeof window,s={cancelOnUserAction:!0,easing:function(t){return--t*t*t+1},elementToScroll:l?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};function c(t,e){if(void 0===e&&(e={}),!l)return new Promise(function(t){t(!1)});if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";var n,c,u,d=o(o({},s),e),f=d.elementToScroll===window,p=!!d.elementToScroll.nodeName;if(!f&&!p)throw"Element to scroll needs to be either window or DOM element.";var m=f?new i:new r(d.elementToScroll);if(t instanceof Element)u=t,n=m.getHorizontalElementScrollOffset(u),c=m.getVerticalElementScrollOffset(u);else if("number"==typeof t)n=m.getHorizontalScroll(),c=t;else{if(!Array.isArray(t)||2!==t.length)throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";n=null===t[0]?m.getHorizontalScroll():t[0],c=null===t[1]?m.getVerticalScroll():t[1]}n+=d.horizontalOffset,c+=d.verticalOffset;var h=m.getMaxHorizontalScroll(),v=m.getHorizontalScroll();n>h&&(n=h);var y=n-v,g=m.getMaxVerticalScroll(),b=m.getVerticalScroll();c>g&&(c=g);var _=c-b,w=Math.abs(Math.round(y/1e3*d.speed)),x=Math.abs(Math.round(_/1e3*d.speed)),C=w>x?w:x;return C<d.minDuration?C=d.minDuration:C>d.maxDuration&&(C=d.maxDuration),new Promise(function(t,e){var o;0===y&&0===_&&t(!0),a.stop(d.elementToScroll);var r=function(){u(),cancelAnimationFrame(o),t(!1)};a.add(d.elementToScroll,r);var i=d.cancelOnUserAction?r:function(t){return t.preventDefault()},l=d.cancelOnUserAction?{passive:!0}:{passive:!1},s=["wheel","touchstart","keydown","mousedown"],u=function(){s.forEach(function(t){d.elementToScroll.removeEventListener(t,i)})};s.forEach(function(t){d.elementToScroll.addEventListener(t,i,l)});var f=Date.now(),p=function(){var e=Date.now()-f,r=e/C,i=Math.round(v+y*d.easing(r)),a=Math.round(b+_*d.easing(r));e<C&&(i!==n||a!==c)?(m.scrollTo(i,a),o=requestAnimationFrame(p)):(m.scrollTo(n,c),cancelAnimationFrame(o),u(),t(!0))};o=requestAnimationFrame(p)})}e.default=c,l&&(window.animateScrollTo=c)},function(t,e,n){var o=n(0)(n(13),n(14),!1,null,null,null);t.exports=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.default={mixins:[o.a],data:function(){return{newKey:"",newType:"text"}},mounted:function(){document.querySelectorAll(".modal input")[0].focus()},methods:{handleKeydown:function(t){-1===["Escape","Enter"].indexOf(t.key)&&t.stopPropagation()},handleConfirm:function(){""!==this.newKey.trim()&&this.$emit("confirm",{type:this.newType,key:this.newKey})},handleClose:function(){this.$emit("close")}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{role:"dialog"},on:{"modal-close":t.handleClose}},[n("form",{staticClass:"bg-white rounded-lg shadow-lg overflow-hidden w-action-fields",attrs:{autocomplete:"off"},on:{keydown:t.handleKeydown,submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleConfirm(e)}}},[n("div",[n("heading",{staticClass:"border-b border-40 py-8 px-8",attrs:{level:2}},[t._v(t._s(t.trans("Add a translation key")))]),t._v(" "),n("div",{staticClass:"m-8"},[n("div",{staticClass:"action"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newType,expression:"newType"}],staticClass:"w-full form-control form-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.newType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"text"}},[t._v(t._s(t.trans("Text")))]),t._v(" "),n("option",{attrs:{value:"upload"}},[t._v(t._s(t.trans("Upload")))])])]),t._v(" "),n("div",{staticClass:"mt-2 action"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newKey,expression:"newKey"}],staticClass:"w-full form-control form-input form-input-bordered",attrs:{type:"text"},domProps:{value:t.newKey},on:{input:function(e){e.target.composing||(t.newKey=e.target.value)}}})])])],1),t._v(" "),n("div",{staticClass:"bg-30 px-6 py-3 flex"},[n("div",{staticClass:"flex items-center ml-auto"},[n("button",{staticClass:"btn btn-link dim cursor-pointer text-80 ml-auto mr-6",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.handleClose(e)}}},[t._v("\n          "+t._s(t.trans("Close"))+"\n        ")]),t._v(" "),n("button",{staticClass:"btn btn-default btn-primary",attrs:{type:"submit"}},[t._v("\n          "+t._s(t.trans("Confirm"))+"\n        ")])])])])])},staticRenderFns:[]}},function(t,e,n){var o=n(0)(n(16),n(17),!1,null,null,null);t.exports=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.default={mixins:[o.a],props:{localeKey:{type:String,required:!0},localeId:{type:Number,required:!0},widget:{type:Object,required:!0},url:{type:String,default:""}},data:function(){return{}},methods:{openMediaLibrary:function(){this.$emit("edit",{localeId:this.localeId,localeKey:this.localeKey}),this.widget.show()}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-auto flex items-center form-control form-input form-input-bordered p-0"},[n("input",{staticClass:"flex-1 outline-none form-control form-input shadow-none px-3",attrs:{type:"text"},domProps:{value:t.url}}),t._v(" "),n("button",{staticClass:"btn btn-default btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openMediaLibrary()}}},[t._v("\n    "+t._s(t.trans("Choose image"))+"\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("heading",[t._v(t._s(t.trans("Translations Matrix")))]),t._v(" "),t.loading?n("loading-view"):n("div",[n("div",{staticClass:"mb-6 text-right"},[n("button",{staticClass:"btn btn-link dim cursor-pointer text-80",on:{click:function(e){e.preventDefault(),t.promptKeyModalOpened=!0}}},[t._v(t._s(t.trans("Add key")))]),t._v(" "),n("button",{staticClass:"ml-3 btn btn-default btn-primary text-white cursor-pointer text-80",on:{click:t.saveLabels}},[t._v("Save")])]),t._v(" "),n("card",[n("table",{staticClass:"translation-matrix my-4 table w-full",attrs:{cellpadding:"0",cellspacing:"0"}},[n("thead",[n("tr",{staticClass:"p-3"},[n("th"),t._v(" "),t._l(t.locales,function(e){return n("th",{key:e.id},[t._v(t._s(e.label))])}),t._v(" "),n("th")],2)]),t._v(" "),n("tbody",t._l(t.matrix,function(e,o){return n("tr",{key:o,staticClass:"p-3",attrs:{id:"tr__"+o}},[n("td",[t._v(t._s(o))]),t._v(" "),t._l(t.locales,function(r){return n("td",{key:o+"__"+r.id},[e[r.id]&&"text"===e[r.id].type?n("div",[e[r.id]?n("textarea",{staticClass:"w-full h-auto form-control form-input form-input-bordered py-3",attrs:{rows:"1",id:"textarea__"+o+"__"+r.id},domProps:{innerHTML:t._s(e[r.id].value)},on:{input:function(e){return t.updateLabel(o,r.id,e.target.value)}}}):t._e()]):t._e(),t._v(" "),e[r.id]&&"upload"===e[r.id].type?n("div",[n("cloudinary-upload",{attrs:{widget:t.cloudinaryWidget,"locale-key":o,"locale-id":r.id,url:e[r.id].value,id:"upload__"+o+"__"+r.id},on:{edit:function(e){return t.setCurrentEdit(e)}}})],1):t._e()])}),t._v(" "),n("td",{staticClass:"table-actions"},[n("button",{staticClass:"block",on:{click:function(e){return t.deleteKey(o)}}},[n("icon",{attrs:{type:"delete",width:"12",height:"12","view-box":"0 0 24 24"}})],1)])],2)}),0)])]),t._v(" "),n("div",{staticClass:"mt-6 text-right"},[n("button",{staticClass:"btn btn-link dim cursor-pointer text-80",on:{click:function(e){e.preventDefault(),t.promptKeyModalOpened=!0}}},[t._v(t._s(t.trans("Add key")))]),t._v(" "),n("button",{staticClass:"ml-3 btn btn-default btn-primary text-white cursor-pointer text-80",on:{click:t.saveLabels}},[t._v("Save")])])],1),t._v(" "),n("portal",{attrs:{to:"modals",transition:"fade-transition"}},[t.promptKeyModalOpened?n("prompt-key-modal",{on:{confirm:t.addKey,close:function(e){t.promptKeyModalOpened=!1}}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){}]);